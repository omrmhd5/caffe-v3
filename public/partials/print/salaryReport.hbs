<style>
  .table { border-collapse: collapse; color: black; } th p { color: black; }
  .table td, .table th { height: 75% !important; padding: .2rem !important;
  text-align: center; } #page-title { border: 1px solid black; display: flex;
  justify-content: center; align-items: center; padding: auto; color: black;
  height: 75px; width: 680px; margin: 50px auto; } .tail-border { border: 1px
  solid black; display: flex; justify-content: center; align-items: center;
  color: black; height: 60px; width: 320px; margin: 50px auto; } .table-bordered
  td, .table-bordered th { text-align: center; border-color: black !important; }
  @page { size: letter landscape; @bottom-center { content: counter(page);
  font-size: 18px; color: black; margin-bottom: 20px; font-weight: bold; } }
  
  /* Print-specific styles for repeating header on each page */
  @media print {
    .print-header {
      display: table-header-group;
    }
    
    .print-content {
      display: table-row-group;
    }
    
    /* Force table headers to repeat on each page */
    thead {
      display: table-header-group;
    }
    
    tbody {
      display: table-row-group;
    }
  }
</style>

<div
  class="container col-lg-12 d-none d-print-block"
  dir="auto"
  style="border: 1px solid white;"
>
  <!-- Main table structure to enable header repetition -->
  <table style="width: 100%; border-collapse: collapse;">
    <thead class="print-header">
      <tr>
        <td>
          <div id="page-title" class="headerPage">
            <h2>
              رواتب شهر
              {{month}}
              {{#if branch}}
                فرع
                {{branch.branchname}}
              {{/if}}
            </h2>
          </div>
        </td>
      </tr>
    </thead>
    
    <tbody class="print-content">
      <tr>
        <td>
          <div class="card col-lg-12">
      <div class="card-body">
        <div class="table-responsive">
          <table id="add-salary-table" class="table table-bordered">
            <thead>
              <tr>
                <th>
                  <p> اسم الموظف</p>
                </th>
                <th>
                  <p>الراتب</p>
                </th>
                <th>
                  <p>زيادة بالقيمة </p>
                </th>
                <th>
                  <p> زيادة بالايام </p>
                </th>
                <th>
                  <p> بدل</p>
                </th>
                <th>
                  <p> عمل اضافي</p>
                </th>
                <th>
                  <p> خصم بالقيمة </p>
                </th>
                <th>
                  <p> خصم بالأيام </p>
                </th>
                <th>
                  <p> صافي الراتب </p>
                </th>
                <th>
                  <p>التوقيع </p>
                </th>
              </tr>
            </thead>
            <tbody>
              {{#each salaries}}
                <tr>
                  <td>{{employeeName}}</td>
                  <td hidden><input
                      value="{{_id}}"
                      type="text"
                      class="form-control employee-id"
                    /></td>
                  <td hidden><input
                      value="{{branchID}}"
                      type="text"
                      class="form-control branch-id"
                    /></td>
                  <td>{{numeral salary}}</td>
                  <td>{{numeral amountIncrease}}
                  </td>
                  <td>{{checkOrZeror daysIncrease}}
                  </td>
                  <td>{{numeral allowance}}
                  </td>
                  <td>{{numeral extraWork}}
                  </td>
                  <td>{{numeral amountDecrease}}
                  </td>
                  <td>{{checkOrZeror daysDecrease}}
                  </td>
                  <td>{{numeral netSalary}}</td>
                  <td>
                    <h1 style="width: 80px;"></h1>
                  </td>
                </tr>
              {{/each}}
            </tbody>
          </table>
          <center class="tail-border">
            {{#if total}}
              <h3>مجموع الرواتب
                <strong id="salary-total">{{numeral total}}</strong></h3>
            {{/if}}
            {{#ifEquals total 0}}
              <h3>مجموع الرواتب <strong id="salary-total">0.00</strong></h3>
            {{/ifEquals}}
          </center>
        </div>
      </div>
    </div>

    <!-- Salary Notes Section -->
    {{#if notes}}
      <div class="card mt-4">
        <div
          class="card-header text-center"
          style="border: 1px solid black; background-color: #f8f9fa;"
        >
          <h4 class="mb-0" style="color: black;">الملاحظات</h4>
        </div>
        <div class="card-body" style="border: 1px solid black;">
          <table class="table table-bordered" style="margin-bottom: 0;">
            <tbody>
              {{#each notes}}
                <tr>
                  {{#each this}}
                    <td
                      class="text-right"
                      style="border: 1px solid black; padding: 8px; color: black;"
                    >{{note}}</td>
                  {{/each}}
                </tr>
              {{/each}}
            </tbody>
          </table>
        </div>
      </div>
    {{/if}}
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>